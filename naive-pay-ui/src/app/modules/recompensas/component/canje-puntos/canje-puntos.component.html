<div class="exchange-container" *ngIf="account && !resume">
    <h2>Canje de puntos</h2>

    <p><strong>Usuario:</strong> {{ account.userId }}</p>
    <p><strong>Saldo actual:</strong> {{ account.points }} pts</p>

    <div class="form-group">
        <label>Tipo de canje:</label>
        <select [(ngModel)]="exchangeType">
            <option value="">Seleccione...</option>
            <option value="Partial">Canje parcial</option>
            <option value="Discount">Descuento en compra</option>
        </select>
    </div>

    <div class="form-group">
        <label>Puntos a canjear:</label>
        <input type="number" [(ngModel)]="exchangePoints" min="1" />
    </div>

    <div class="buttons">
        <button class="btn-cancel" (click)="cancel()" [disabled]="processing">Cancelar</button>
        <button class="btn-confirm" (click)="confirmExchange()" [disabled]="processing">
            <span *ngIf="!processing">Confirmar</span>
            <span *ngIf="processing">Procesando...</span>
        </button>
    </div>
</div>

<div class="resume-container" *ngIf="resume">
    <h3>Resumen del canje</h3>
    <p><strong>Tipo:</strong> {{ resume.type }}</p>
    <p><strong>Puntos canjeados:</strong> {{ resume.points }}</p>
    <p><strong>Saldo restante:</strong> {{ resume.balance }}</p>
    <p><strong>Estado:</strong> {{ translateState(resume.state) }}</p>

    <div class="buttons">
        <button class="btn-back" (click)="return()">Volver</button>
    </div>
</div>

<div *ngIf="loading" class="loading">
    Cargando cuenta...
</div>